Security

————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
Internet Sales Manager (mting)
Creation of View:create view g3_sales_viewas select * from g3_saleswhere channel_id=4 with check option constraint g3_sales_cnstInsert: -- on G3_SALES_VIEW (internet only), G3_PRODUCTS, G3_PROD_SUBCAT, G3_PROD_CAT Syntax: grant insert on g3_sales_view to mtinggrant insert on g3_products to mtinggrant insert on g3_prod_subcat to mtinggrant insert on g3_prod_cat to mtingPositive Test: inserted an entire row into the sales viewinsert into mst.g3_sales_view(salestrans_id, prod_id, cust_id, channel_id, promo_id, sale_date, shipping_date, payment_date, quantity_sold, unit_price)values(999999, 99, 99999, 4, 0000, '06/20/2014', '06/23/2014', '06/23/2014', 3, 9)Negative Test: attempted to insert in the customer view with a channel id that is not 4 (meaning not internet related)insert into mst.g3_sales_view(salestrans_id, prod_id, cust_id, channel_id, promo_id, sale_date, shipping_date, payment_date, quantity_sold, unit_price)values(999999, 99, 99999, 2, 0000, '06/20/2014', '06/23/2014', '06/23/2014', 3, 9)Update: -- on G3_SALES_VIEW (internet only), G3_PRODUCTS, G3_PROD_SUBCAT, G3_PROD_CATSyntax:grant update on g3_sales_view to mtinggrant update on g3_products to mtinggrant update on g3_prod_subcat to mtinggrant update on g3_prod_cat to mtingPositive Test: changed the sale date for a specific salestrans idUpdate mst.g3_sales_viewSet sale_date='06/23/2014'Where salestrans_id=484821Negative Test: attempted to update the sale date in the sale view with a channel id that is not 4 (meaning not internet related)update mst.g3_sales_viewset sale_date='06/23/2014'where channel_id=3Delete: -- on G3_SALES_VIEW (internet only), G3_PRODUCTS, G3_PROD_SUBCAT, G3_PROD_CAT Syntax:grant delete on g3_sales_view to mtinggrant delete on g3_products to mtinggrant delete on g3_prod_subcat to mtinggrant delete on g3_prod_cat to mtingPositive Test: deleted a sale transaction with a specific salestrans idDelete from mst.g3_sales_viewWhere salestrans_id=484821Negative Test: tried to delete a row that has a channel id that is not 4. delete from mst.g3_sales_viewwhere channel_id=3Select: -- on G3_CUSTOMERS, G3_COUNTRY, G3_SALES_VIEW, G3_PRODUCTS, G3_PROD_SUBCAT, G3_PROD_CAT,  G3_PROMOTIONS, G3_PROMO_CAT, G3_PROMO_SUBCAT_CAT, G3_CHANNELSSyntax:grant select on G3_CUSTOMERS to mtinggrant select on G3_COUNTRY to mtinggrant select on G3_SALES_VIEW to mtinggrant select on G3_PRODUCTS to mtinggrant select on G3_PROD_SUBCAT to mtinggrant select on G3_PROD_CAT to mtinggrant select on G3_PROMOTIONS to mtinggrant select on G3_PROMO_CAT to mtinggrant select on G3_PROMO_SUBCAT_CAT to mtinggrant select on G3_PROMO_SUBCAT_CAT to mtingPositive Test: showed one of the tablesSelect * from mst.g3_productsNegative Test: showed they do not have viewing privileges on the g3_country_subregion table which the user does not have access toselect * from mst.g3_country_subregion————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

Customer Relations Manager (imunayco)
Insert  -- on G3_CUSTOMERS Table Only 
Syntax: grant insert on g3_customers to imunaycoPositive Test: inserted an entire row into the customer columninsert into mst.g3_customers(cust_id, cust_first_name, cust_last_name, cust_gender, cust_main_phone_number, cust_email, cust_street_address, cust_postal_code, cust_city, cust_state_province, country_id, cust_year_of_birth, cust_marital_status, cust_income_level, cust_credit_limit)values(99999, 'Jane', 'Smith', 'F', 1231231234, 'jane@mail.com', '77 South Bath Avenue', 59061, 'Sanibel', 'FL', 52790, 1955, 'single', 170000, 7000)Proof: select * from g3_customerswhere cust_id=99999Negative Test: since the user has access to the entire customers table, the negative test will be shown by trying to insert a row into a table that the user has no access toinsert into mst.g3_promotions(promo_id, promo_subcat_id, promo_cat_id, promo_name, promo_cost, promo_begin_date, promo_end_date)values(11111, 11111, 11111, 'internet promotion #14-249', 68100, '08/07/2014', '09/07/2014')Update: -- on G3_CUSTOMERS Table OnlySyntax:grant update on g3_customers to imunaycoPositive Test: changed the marital status for a specific customer idUpdate mst.g3_customersSet cust_marital_status='married'Where cust_id=24953Negative Test: since the user has access to the entire customer table, the negative test will be shown by trying to update a row into a table that the user has no access toupdate mst.g3_promotionsset promo_cost=00000where promo_id=315Delete: -- on G3_CUSTOMERS Table OnlySyntax:grant delete on g3_customers to imunaycoPositive Test: deleted a customer with a specific idDelete from mst.g3_customersWhere cust_id=24953Negative Test: since the user has access to the entire customer table, the negative test will be shown by trying to delete a row of a table that the user has no access todelete from mst.g3_promotionswhere promo_id=315Select: -- on G3_CUSTOMERS, G3_COUNTRY, G3_SALES, G3_PRODUCTS, G3_PROD_SUBCAT, G3_PROD_CAT,  G3_PROMOTIONS, G3_PROMO_CAT, G3_PROMO_SUBCAT_CATSyntax:grant select on G3_CUSTOMERS to imunaycogrant select on G3_COUNTRY to imunaycogrant select on G3_SALES to imunaycogrant select on G3_PRODUCTS to imunaycogrant select on G3_PROD_SUBCAT to imunaycogrant select on G3_PROD_CAT to imunaycogrant select on G3_PROMOTIONS to imunaycogrant select on G3_PROMO_CAT to imunayco grant select on G3_PROMO_SUBCAT_CAT to imunayco Positive Test: showed one of the tablesSelect * from mst.g3_productsNegative Test: showed they do not have viewing privileges on the g3_country_region table which the user does not have access toselect * from mst.g3_country_region————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
Financial and Accounting Manager (zsong)Insert: -- not allowed on any table Positive Test: since the user has no access to any of the table, there is no positive test to be doneNegative Test: showed they do not have insert privileges on the g3_promotion table which can be done on any of the tables used in the schemainsert into mst.g3_promotions(promo_id, promo_subcat_id, promo_cat_id, promo_name, promo_cost, promo_begin_date, promo_end_date)values(11111, 11111, 11111, 'internet promotion #14-249', 68100, '08/07/2014', '09/07/2014')Update: -- not allowed on any table Positive Test: since the user has no access to any of the table, there is no positive test to be doneNegative Test: showed they do not have update privileges on the g3_promotions table which can be done on any of the tables used in the schemaupdate mst.g3_promotionsset promo_cost=00000where promo_id=315Delete: -- not allowed on any table Positive Test: since the user has no access to any of the table, there is no positive test to be doneNegative Test: showed they do not have delete privileges on the g3_ promotions table which can be done on any of the tables used in the schemadelete from mst.g3_promotionswhere promo_id=315Select: -- on G3_SALES, G3_PRODUCTS, G3_PROD_SUBCAT, G3_PROD_CAT, G3_PROMOTIONS, G3_PROMO_CAT, G3_PROMO_SUBCAT_CAT, G3_CHANNELS Syntax:grant select on G3_SALES to zsonggrant select on G3_PRODUCTS to zsonggrant select on G3_PROD_SUBCAT to zsonggrant select on G3_PROD_CAT to zsonggrant select on G3_PROMOTIONS to zsonggrant select on G3_PROMO_CAT to zsonggrant select on G3_PROMO_SUBCAT_CAT to zsonggrant select on G3_CHANNELS to zsong Positive Test: showed one of the tablesSelect * from mst.g3_productsNegative Test: showed they do not have viewing privileges on the g3_country table which the user does not have access toselect * from mst.g3_country————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
Business Views Select Privilege Based on Matrices:————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
User 1 – Finance and Accounting Manager (zsong)grant select on BV1MVIEW to zsonggrant select on BV2VVIEW to zsonggrant select on BV3VVIEW to zsonggrant select on BV6VVIEW to zsonggrant select on BV7MVIEW to zsongTESTING:

POSITIVE: select * from BV1MVIEWNEGATIVE: select * from BV4MVIEW————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————User 2 – Customer Relations Manager (imunayco)grant select on BV3VVIEW to imunaycogrant select on BV4VVIEW to imunaycogrant select on BV5VVIEW to imunayco

TESTING:

POSITIVE: select * from BV3MVIEWNEGATIVE: select * from BV1MVIEW————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————User 3 – Internet Sales Manager (mting)grant select on BV1MVIEW to mtinggrant select on BV2VVIEW to mtinggrant select on BV3VVIEW to mtinggrant select on BV4VVIEW to mtinggrant select on BV5VVIEW to mtingTESTING:

POSITIVE: select * from BV1MVIEWNEGATIVE: select * from BV6MVIEW